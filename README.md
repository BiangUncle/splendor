# splendor
璀璨宝石服务端/客户端，练手项目

```shell
 ____        _                _            
/ ___| _ __ | | ___ _ __   __| | ___  _ __
\___ \| '_ \| |/ _ \ '_ \ / _` |/ _ \| '__|
 ___) | |_) | |  __/ | | | (_| | (_) | |   
|____/| .__/|_|\___|_| |_|\__,_|\___/|_|   
      |_|
```


## 开发进度

1. 完成牌堆打乱【DONE】
   1. 发展牌打乱【DONE】
   2. 贵族卡打乱【DONE】
2. 完成分发发展牌，分发【DONE】
   1. 发展牌每个级别分4张【DONE】
   2. 贵族卡抽人数+1分发【DONE】
3. 完成玩家购牌系统
   1. 完成购牌，并且自动补充卡牌【DONE】
   2. 完成购牌后消费宝石，并将发展牌加入，并增加奖励【DONE】
   3. 购买自己的手牌【DONE】
   4. 购买发展卡是统计上奖励【DONE】
   5. 选择保留一张卡牌，并且获取一个黄金【DONE】
   6. 实现使用黄金购买【DONE】
   7. 摸取一张牌堆，并保存，设置保留上限【DONE】
4. 增加一个玩家轮训执行系统，完成贵族系统
   1. 玩家轮训执行逻辑【DONE: 简易版】
   2. 贵族自动获取能力【DONE】
5. 创建命令行游戏逻辑
   1. 指定游戏玩家【DONE】
   2. 显示全场游戏情况【DONE】
6. 为所有操作提供命令行输入能力(创建一个新的方法来放函数，避免破坏原来的方法)
   1. 所有固定的输入全部转为可选参数【DONE】
   2. 宝石可以转成有颜色，用颜色的色块表示宝石数量【选做】
7. 为所有支付操作提供一个 rollback 操作
   1. 为每一次操作定义为一个 op 对象，可以求出反对象。
   2. 将所有操作修改为执行 op。
8. 增加一个重试操作，如: 宝石无法选择时，重新选择【DONE】
9. 实现玩家加入游戏的游戏模式
   1. 实现服务器模式，类似于创建房间，然后等人进来。【DONE】
   2. 实现客户端，主动连接到服务器。【DONE】
   3. 实现API模式，可以将数据发给客户端。【DONE】
   4. 使用session实现。【DONE】
10. 生成一个 default 桌台【DONE】
11. 判断用户是否掉线【DONE】
12. 优化轮训逻辑，优化个人信息展示(展示用户名)【DONE】
13. 优化命令行视觉，加上彩色效果。【DONE】
14. 完成拿三个宝石/两个宝石的命令行操作【DONE】
15. 优化黄金使用流程，转变为黄金转变为，输入一个 tokenStack 来购买发展牌，玩家可以自定选择是否使用黄金【DONE】
16. 优化选项代码，将选项写成可以自定义配置的【DONE】
17. 为所有操作提供一个错误重试操作【DONE】
18. 返还宝石操作提供提示【DONE】
19. 所有执行操作之后，进行一个轮换操作。【DONE】
20. 为所有展示逻辑分出一个包【DONE】
21. 提供更加安全的删除玩家操作, 通过重写 table 中玩家列表的方式【DONE】
22. table操作加锁【DONE】
23. 验证一些算法的判断逻辑，手牌过多，宝石过多【DONE】
24. 购牌相关逻辑
    1. 购买卡牌, 提供小于10000的购买方式【DONE】
    2. 保存手牌【DONE】
    3. 购买手牌【DONE】
25. 完成贵族获取系统【DONE】
26. 整理清楚模块代码,server端/client端
27. 客户端增加http信息反馈"界面"【DONE】
28. 操作分成多个请求进行，"拿取" 和 "归还"【DONE】
29. 设计胜利完成逻辑
30. 高级visual画面
31. 给所有操作提供一个返回上一步操作【DONE】
32. 为一个操作设置一个缓存，都执行完才提交。
33. 为一些基本错误定义一个错误类型【选做】
34. 再次优化颜色效果【选做】


